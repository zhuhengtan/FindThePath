找到路线
1.0

1. 核心概述
游戏类型： 超休闲 (Hyper-casual) / 逻辑解谜 / 动作节奏

核心机制： 旋转地块连通路径 + 撞墙自动掉头

交互方式： 单指点击地块（顺时针旋转90°）

核心卖点： 极高的容错率与“软禁机制（Soft-lock）”。玩家通过故意切断路径让车辆原地调头，从而实现时间调度和避险。

2. 核心玩法 (Gameplay)
基础逻辑： * 车辆在格点化地图上自动匀速行驶。

当地图格子边缘没有对应的路径连接时，车辆不会“坠落”或“报废”，而是立即执行 180° 掉头。

胜负条件：

胜利： 车辆顺利通过路径抵达终点。

失败： 车辆撞上定时触发的陷阱（如地刺、激光）或与另一辆车相撞。

策略深度 (U-Turn Strategy)： 玩家可以故意旋转掉前方地块，让车辆在一段极短的路径（甚至是一个格子里）不断往返掉头，从而“等候”终点机关开启或避开前方正在通行的另一辆车。

3. 技术实现要点 (Technical Requirements)
地图系统： 基于 2D Grid。地块类型包括：I型（直线）、L型（弯道）、T型（三通）、X型（十字）。

寻路判定：

当车辆到达格子路径尽头时，检测 Forward 方向的地块入口是否匹配。

匹配成功：保持方向进入下一格。

匹配失败：执行 Rotation += 180° 动画，方向反转。

动画需求： 地块旋转的 Tween 动画（0.1s），小车调头时的快速漂移/掉头动画。

1. 关卡元素 (Level Elements)
动态障碍： 周期性开启的闸门、在轨道上横向移动的障碍物。

多车同屏： 同时控制 2-3 辆小车前往不同的终点，必须利用“掉头机制”错开行驶时间。

单向地块： 只能从一面进入，另一面进入则强制调头。

5. 商业化与美术建议
美术风格建议： * 低多边形 (Low Poly)： 搬运小车与仓库货架。

极简霓虹 (Cyber Neon)： 电子流在电路板中传输。

解压感设计： * 车辆调头时带有轻微的“吱吱”刹车声。

路径连通的一瞬间，整段轨道亮起。

关卡结算时，小车冲进终点触发彩带喷射。

限制与道具（后期）：
- 关卡只需“是否通关”，不做三星。
- 主要限制：步数上限（= 旋转次数），后期可叠加时间上限。
- 失败主要来自“耗尽步数/时间”，陷阱失败尽量少；撞车作为后期内容。
- 看广告：用于“加步数/加时”或“提示下一步（一次）/撤销一次旋转”。

6. 规则细化 (Rule Definition)
暂停：不允许暂停。玩家可通过故意断路让车在单格/短段内往返，实现等待与思考（Soft-lock）。
旋转限制：不允许在车辆位于该地块上时旋转该地块（避免不一致与误解）。
判定与移动（建议统一为离散节点）：
- 车辆在格子中心/边缘节点之间匀速运动。
- 当车辆到达“离开当前格子的边缘节点”时，检测下一格对应入口是否连通。
- 连通：进入下一格；不连通：立即 180° 掉头，返回上一节点继续行驶。
- 旋转生效时机：点击后立即改变该格的连接状态（Tween 0.1s），但仅影响“下一次离开节点”的判定。

7. 关卡节奏与难度曲线 (Level Progression)
前期（新手 1-10）：单车、小地图、无/少周期机关；“乱转也能过”，主要让玩家理解掉头与连通。
中期（11-30）：引入“必须等待的闸门/激光节奏”，让 Soft-lock 成为解法的一部分；逐步引入步数上限。
后期（31+）：扩大地图、增加元素组合（单向地块/更复杂路网），叠加时间上限；撞车/多车作为额外章节而非主线早期。

8. 程序化关卡生成与云端 (Infinite Levels)
关卡来源：按关卡层数 level 生成，推荐使用确定性随机：seed = hash(level + version)。
生成位置：云函数生成关卡数据；开发期可本地生成并落盘。
云端存储：存“生成后的关卡数据”或仅存 seed + 版本 + 少量参数（推荐后者，便于回放与修复）。
版本化：生成器升级时，保留 generatorVersion，避免老关卡因算法变化不可复现。

9. 可解性校验 (Solvability Check)
生成后必须做自动校验：
- 用同一套移动/掉头规则进行快速模拟与搜索，确保存在通关解。
- 校验维度至少包含：最小旋转次数（步数）、预计通关时间、是否出现无限循环但无法到达终点。
- 以“步数上限”作为难度标尺：限制越紧，难度越高。